{#
  Template de connexion utilisateur
  - Hérite du layout principal base.html.twig
  - Affiche le formulaire de connexion et les erreurs éventuelles
#}
{% extends 'base.html.twig' %}

{# Bloc du titre de la page (affiché dans <title>) #}
{% block title %}Connexion{% endblock %}

{# Bloc principal du contenu de la page #}
{% block body %}
  <div class="login-form-wrapper">
    {# Carte centrale contenant le formulaire #}
    <div class="login-card">
      {# Titre principal de la page #}
      <h1 class="login-title">Connexion</h1>
      {# Affiche le message d'erreur si la connexion échoue #}
      {% if error is defined and error %}
        <div class="login-error">{{ error.messageKey|trans(error.messageData, 'security') }}</div>
      {% endif %}
      {# Formulaire de connexion manuel (email + mot de passe) #}
      <form method="post" action="{{ path('app_login') }}">
        <div class="login-field">
          <label for="inputEmail" class="login-label">Email</label>
          <input type="email" class="login-input" id="inputEmail" name="_username" value="{{ last_username|default('') }}" required autofocus autocomplete="username">
        </div>
        <div class="login-field">
          <label for="inputPassword" class="login-label">Mot de passe</label>
          <input type="password" class="login-input" id="inputPassword" name="_password" required autocomplete="current-password">
        </div>
        <button type="submit" class="login-btn">Connexion</button>
      </form>
      {# Lien vers la page de réinitialisation du mot de passe #}
      <div class="login-forgot">
        <a href="{{ path('app_forgot_password') }}">Mot de passe oublié&nbsp;?</a>
      </div>
    </div>
  </div>
{% endblock %}
